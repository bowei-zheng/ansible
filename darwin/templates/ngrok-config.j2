# ngrok Configuration
# Generated by Ansible - DO NOT EDIT MANUALLY
# Last updated: {{ ansible_date_time.iso8601 }}

version: "3"
agent:
  authtoken: {{ ngrok_authtoken }}
{% if ngrok_api_key is defined and ngrok_api_key %}
  api_key: {{ ngrok_api_key }}
{% endif %}

{% if ngrok_tunnels is defined and ngrok_tunnels | length > 0 %}
tunnels:
{% for tunnel in ngrok_tunnels %}
  {{ tunnel.name }}:
    proto: {{ tunnel.proto | default('http') }}
    addr: {{ tunnel.addr }}
{% if tunnel.domain is defined and tunnel.domain %}
    domain: {{ tunnel.domain }}
{% endif %}
{% if tunnel.inspect is defined %}
    inspect: {{ tunnel.inspect | lower }}
{% endif %}
{% if tunnel.auth is defined and tunnel.auth %}
    auth: "{{ tunnel.auth }}"
{% endif %}
{% if tunnel.metadata is defined and tunnel.metadata %}
    metadata: "{{ tunnel.metadata }}"
{% endif %}

{% endfor %}
{% endif %}

